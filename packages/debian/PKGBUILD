# Maintainer: Your Name <foobar@example.com>
pkgname=squiid
pkgver=0.1.0
pkgrel=1
pkgdesc="A modular calculator written in Rust. Intended to be the successor to ImaginaryInfinity Calculator."
arch=('any')
depends=()
focal_depends=()
makedepends=('cargo' 'cmake')
makedepends_x86_64=()
checkdepends=()
optdepends=()
focal_optdepends_x86_64=()
provides=()
conflicts=()
replaces=()
preinst=''
postinst=''
prerm=''
postrm=''
backup=()
options=()
license=('GPLv3')
url='https://gitlab.com/ImaginaryInfinity/squiid-calculator/squiid'

source=("https://gitlab.com/ImaginaryInfinity/squiid-calculator/squiid/-/archive/$pkgver/$pkgname-$pkgver.tar.gz")
sha256sums=('SKIP')
noextract=()

prepare() {
	export RUSTUP_TOOLCHAIN=stable
	cargo fetch --locked --target "$CARCH-unknown-linux-gnu"
}

build() {
	export RUSTUP_TOOLCHAIN=stable
	export CARGO_TARGET_DIR=target
	cargo build --frozen --release --all-features
}

package() {
	install -Dm0755 -t "$pkgdir/usr/bin/" "target/release/$pkgname"
}

# vim: set sw=4 expandtab: